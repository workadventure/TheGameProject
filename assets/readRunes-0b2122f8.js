import{t as l}from"./translate-df78904b.js";import{e as a}from"./job-3640a1b2.js";import{r}from"./config-adf52b6e.js";let o=null,i=null;const A=()=>{WA.onInit().then(()=>{WA.player.state.onVariableChange("askForRuneWebsiteClose").subscribe(e=>{e&&u()})})},d=(e,n={},t="modules.runes.see",s="base")=>{WA.room.onEnterLayer(e).subscribe(()=>{i=WA.ui.displayActionMessage({message:l("utils.executeAction",{action:l(t)}),callback:()=>{c(n,s)}})}),WA.room.onLeaveLayer(e).subscribe(()=>{i==null||i.remove()})},c=async(e,n)=>{a("readRunes")||(e.canRead="0"),WA.controls.disablePlayerControls();let t="";for(let s=0;s<Object.keys(e).length;s++)s!==0&&(t+="&"),t+=Object.keys(e)[s]+"="+Object.values(e)[s];o=await WA.ui.website.open({url:`${r}/views/runes/${n}.html${t?"?"+t:""}`,allowApi:!0,allowPolicy:"",position:{vertical:"middle",horizontal:"middle"},size:{height:"50vh",width:"50vw"}}),WA.player.state.askForRuneWebsiteClose=!1},u=()=>{o==null||o.close(),o=null,WA.controls.restorePlayerControls()},y=()=>{WA.player.state.askForRuneWebsiteClose=!0};export{y as a,A as i,d as s};
