import{t as a}from"./translate-df78904b.js";import{e as t}from"./job-3640a1b2.js";import{p as m}from"./sounds-79026e5d.js";let s=null;const $=(e,r=null)=>{WA.state[`${e}Discovered`]?(WA.room.hideLayer(`${e}/trace`),WA.room.hideLayer(`${e}/search`),WA.room.hideLayer(`${e}/disappear`),WA.room.showLayer(`${e}/found`),r&&r()):(t("makeHooking")?(WA.room.showLayer(`${e}/trace`),WA.room.onEnterLayer(`${e}/trace`).subscribe(()=>{WA.state[`${e}Discovered`]||(s=WA.ui.displayActionMessage({message:a("utils.executeAction",{action:a("modules.hooking.hook")}),callback:()=>{WA.state[`${e}Discovered`]=!0}}))}),WA.room.onLeaveLayer(`${e}/trace`).subscribe(()=>{s==null||s.remove()})):(WA.room.hideLayer(`${e}/trace`),WA.room.hideLayer(`${e}/search`),WA.room.hideLayer(`${e}/found`),WA.room.showLayer(`${e}/disappear`)),WA.state.onVariableChange(`${e}Discovered`).subscribe(()=>{d(e,r)}))},d=(e,r=null)=>{WA.room.hideLayer(`${e}/trace`),WA.room.showLayer(`${e}/search`),setTimeout(()=>{WA.room.showLayer(`${e}/found`),WA.room.hideLayer(`${e}/disappear`),setTimeout(()=>{WA.room.hideLayer(`${e}/search`),m("successSound"),r&&r()},1e3)},3e3)};export{$ as s};
