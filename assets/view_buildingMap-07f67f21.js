import"./main-531b8551.js";import{o as h}from"./init-0f7c740a.js";document.addEventListener("DOMContentLoaded",()=>{h().then(async()=>{const m=e=>{WA.player.state.askForDeactivateCamera=e?"cameraZones/"+e:null},d=e=>{WA.player.state.askForSeeRoom=e},u=()=>{WA.player.state.askForCloseComputerWebsite=!0},g=()=>{WA.player.state.askForSwitchLights=!WA.player.state.askForSwitchLights},a=document.getElementsByClassName("camera"),c=document.getElementsByClassName("room"),n=document.getElementById("closeButton"),s=document.getElementById("hackingWindow"),r=document.getElementById("lightnings");let o=!1;if(r&&s&&r.addEventListener("click",()=>{o||(o=!0,s.classList.add("show"),setTimeout(()=>{g(),s.classList.remove("show"),o=!1},2e3))}),a&&s)for(let e=0;e<a.length;e++)a[e].addEventListener("click",()=>{o||(o=!0,s.classList.add("show"),setTimeout(()=>{for(let t=0;t<a.length;t++)a[t].classList.remove("deactivated");a[e].classList.add("deactivated"),m(a[e].getAttribute("id")),s.classList.remove("show"),o=!1},2e3))});if(c&&s)for(let e=0;e<c.length;e++)c[e].addEventListener("click",()=>{o||(o=!0,s.classList.add("show"),setTimeout(()=>{const t=c[e].getAttribute("id");console.log("room",t==null?void 0:t.replace("room","")),t&&d(t.replace("room","")),s.classList.remove("show"),o=!1},2e3))});n&&n.addEventListener("click",()=>{u()});let i=document.getElementById("WokaCircle");WA.state.onVariableChange("currentCameraPosition").subscribe(e=>{const{x:t,y:l}=e;i||(i=document.getElementById("WokaCircle")),i&&(console.log("wokaCircle",i,t,l),i.setAttribute("cx",`${t+100}`),i.setAttribute("cy",`${l+200}`))})})});
