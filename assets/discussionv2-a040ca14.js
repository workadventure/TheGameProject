import{r as u}from"./config-3db041a0.js";let s;var n=(e=>(e.voiceOver="utils.voiceOver",e.mapRetrieved="museum.mapRetrieved",e.museumGuest="museum.guest",e.keeperName="museum.keeperName",e.mySelf="utils.mySelf",e.bombFailure="bomb.bomb.failure.name",e.annuaryTitle="views.museum.annuaryTitle",e.badGuy="treasureEnigma.badGuy.name",e))(n||{});const c=async(e,i,r="views.choice.close",a="discussion",o=null)=>{WA.controls.disablePlayerControls();const t={url:`${u}/views/discussionsv2/${a}.html?title=${e}&text=${i}&close=${r}`,visible:!0,position:{vertical:"bottom",horizontal:"middle"},allowApi:!0,size:{height:"120px",width:"100%"},margin:{bottom:"80px",left:"10px",right:"10px"}};s=await WA.ui.website.open(t),WA.player.state.askForDiscussionWebsiteClose=!1,WA.player.state.onVariableChange("askForDiscussionWebsiteClose").subscribe(l=>{l&&(m(o),o=null)})},m=(e=null)=>{s==null||s.close(),s=void 0,WA.controls.restorePlayerControls(),e!==null&&e()};export{c as o,n as t};
