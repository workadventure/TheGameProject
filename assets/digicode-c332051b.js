import{r as l}from"./config-3db041a0.js";import"./translate-1ba34e64.js";import{p as r}from"./sounds-0b59e88b.js";const s={},p=()=>{WA.player.state.askForCode=null,WA.player.state.onVariableChange("askForDigicodeWebsiteClose").subscribe(e=>{e&&t()}),WA.player.state.onVariableChange("askForCode").subscribe(e=>{if(e){const[o,i]=e.split("-");s[o]&&s[o][i]?s[o][i]():(r("failureSound"),t())}})},g=(e,o)=>{for(let i=0;i<o.length;i++)s[e]||(s[e]={}),s[e][o[i].code]=o[i].callback};let a=null;const b=async e=>{WA.controls.disablePlayerControls(),a=await WA.ui.website.open({url:`${l}/views/digicode/digicode.html?id=${e}`,allowApi:!0,allowPolicy:"",position:{vertical:"middle",horizontal:"middle"},size:{height:"50vh",width:"50vw"}}),WA.player.state.askForDigicodeWebsiteClose=!1},t=()=>{a==null||a.close(),a=null,WA.controls.restorePlayerControls()},C=()=>{WA.player.state.askForDigicodeWebsiteClose=!0},W=(e,o)=>{WA.player.state.askForCode=`${e}-${o}`};export{W as a,C as b,g as c,t as d,p as i,b as o};
