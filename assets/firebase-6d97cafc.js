const p=e=>new Promise(t=>{setTimeout(t,e)}),r=e=>{const t=Math.floor(Math.random()*e.length);return e[t]},a=()=>WA.room.id.split("/")[4],s=()=>{if(!WA.player.uuid)throw new Error("Player UUID not found");return window.btoa(WA.player.uuid)},b=Object.freeze(Object.defineProperty({__proto__:null,myGameName:a,myPlayerId:s,selectRandomItemInArray:r,wait:p},Symbol.toStringTag,{value:"Module"})),n="https://thegameproject-c216d-default-rtdb.europe-west1.firebasedatabase.app",o=()=>`${n}/${a()}/userRole/${s()}.json`,i=async e=>{const t=o();await fetch(t,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({job:e})})},m=async()=>{const e=o();return await(await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json()},l=async e=>{const t=`${n}/${a()}/gems/${e}.json`;return await(await fetch(t,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({find:!0})})).json()},d=async e=>{const t=`${n}/${a()}/gems/${e}.json`;return await(await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json()},y=async e=>{const t=`${n}/${a()}/gameStep/${s()}.json`;await fetch(t,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({step:e})})},j=async()=>{const e=`${n}/${a()}/gameStep/${s()}.json`;return await(await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json()},h=async()=>{const e=`${n}/startGameTimestamp/${a()}/${s()}.json`;await fetch(e,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({timestamp:Date.now()})})},T=async()=>{const e=`${n}/endGameTimestamp/${a()}/${s()}.json`;await fetch(e,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({timestamp:Date.now()})})},u=async()=>{const e=`${n}/startGameTimestamp/${a()}/${s()}.json`;return await(await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json()},w=async()=>{const e=`${n}/endGameTimestamp/${a()}/${s()}.json`;return await(await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json()},$=async()=>{const e=`${n}/endGameTimestamp.json?orderBy="timestamp"`;try{return await(await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json()}catch(t){console.log("getAllEndGameTimestamp => error",t)}},f=async()=>{const e=`${n}/startGameTimestamp.json?orderBy="timestamp"`;try{return await(await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json()}catch(t){console.log("getAllStartGameTimestamp => error",t)}},g=async e=>{const t=`${n}/${a()}/playing.json`;await fetch(t,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({choice:e})})},G=async()=>{const e=`${n}/${a()}/playing.json`;return await(await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json()},A=Object.freeze(Object.defineProperty({__proto__:null,endStartGameTimestamp:T,getAllEndGameTimestamp:$,getAllStartGameTimestamp:f,getChoiceInFirebase:G,getEndGameTimestamp:w,getGameStep:j,getGem:d,getPlayerJob:m,getStartGameTimestamp:u,saveChoiceInFirebase:g,saveGameStep:y,saveGem:l,savePlayerJob:i,saveStartGameTimestamp:h},Symbol.toStringTag,{value:"Module"}));export{u as a,w as b,$ as c,f as d,j as e,y as f,G as g,h,T as i,d as j,l as k,m as l,a as m,i as n,b as o,A as p,g as s,p as w};
