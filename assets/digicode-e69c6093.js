import{p as l,r}from"./sounds-dd62bce7.js";import"./translate-df78904b.js";const s={},d=()=>{WA.player.state.askForCode=null,WA.player.state.onVariableChange("askForDigicodeWebsiteClose").subscribe(e=>{e&&t()}),WA.player.state.onVariableChange("askForCode").subscribe(e=>{if(e){const[o,i]=e.split("-");s[o]&&s[o][i]?s[o][i]():(l("failureSound"),t())}})},p=(e,o)=>{for(let i=0;i<o.length;i++)s[e]||(s[e]={}),s[e][o[i].code]=o[i].callback};let a=null;const g=async e=>{WA.controls.disablePlayerControls(),a=await WA.ui.website.open({url:`${r}/views/digicode/digicode.html?id=${e}`,allowApi:!0,allowPolicy:"",position:{vertical:"middle",horizontal:"middle"},size:{height:"50vh",width:"50vw"}}),WA.player.state.askForDigicodeWebsiteClose=!1},t=()=>{a==null||a.close(),a=null,WA.controls.restorePlayerControls()},b=()=>{WA.player.state.askForDigicodeWebsiteClose=!0},C=(e,o)=>{WA.player.state.askForCode=`${e}-${o}`};export{C as a,b,p as c,t as d,d as i,g as o};
